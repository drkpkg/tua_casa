<div class="signup-container">
  <h2>Iniciar sesión</h2>
  <img src="https://ng.ant.design/assets/img/logo.svg" alt="Imagen de inicio de sesión">
  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()" nz-form [nzLayout]="'horizontal'">
    <nz-form-item>
      <nz-form-control>
        <nz-input-group nzPrefixIcon="user">
          <input nz-input placeholder="Correo electrónico" formControlName="email" type="email"/>
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control>
        <nz-input-group [nzSuffix]="suffixTemplate" nzPrefixIcon="lock">
          <input nz-input placeholder="Contraseña" formControlName="password"
                 [type]="!passwordVisible ? 'password' : 'text'"/>
        </nz-input-group>
        <ng-template #suffixTemplate>
          <span
            nz-icon
            [nzType]="!passwordVisible ? 'eye-invisible' : 'eye'"
            (click)="passwordVisible = !passwordVisible"
          ></span>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control>
        <nz-input-group [nzSuffix]="suffixTemplate" nzPrefixIcon="lock">
          <input nz-input placeholder="Contraseña" formControlName="passwordConfirm"
                 [type]="!passwordConfirmationVisible ? 'password' : 'text'"/>
        </nz-input-group>
        <ng-template #suffixTemplate>
          <span
            nz-icon
            [nzType]="!passwordConfirmationVisible ? 'eye-invisible' : 'eye'"
            (click)="passwordConfirmationVisible = !passwordConfirmationVisible"
          ></span>
        </ng-template>
      </nz-form-control>
    </nz-form-item>
    <nz-divider></nz-divider>
    <nz-form-item>
      <nz-form-control>
        <nz-input-group>
          <input nz-input placeholder="Nombre" formControlName="name"/>
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control>
        <nz-input-group>
          <input nz-input placeholder="Apellido paterno" formControlName="surname"/>
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control>
        <nz-input-group>
          <input nz-input placeholder="Apellido materno" formControlName="lastname"/>
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control>
        <nz-input-group>
          <input nz-input placeholder="Telefono" formControlName="phone">
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control>
        <nz-input-group>
          <nz-select nzShowSearch nzAllowClear nzPlaceHolder="En Tua casa quiero" formControlName="customer_type">
            <nz-option nzLabel="Quiero buscar alquiler" nzValue="0"></nz-option>
            <nz-option nzLabel="Quiero alquilar" nzValue="1"></nz-option>
            <nz-option nzLabel="Quiero hacer ambos" nzValue="2"></nz-option>
          </nz-select>
        </nz-input-group>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <label nz-checkbox formControlName="acceptTerms">
        <span>Acepto los <a href="/terms">términos y condiciones</a></span>
      </label>
    </nz-form-item>
    <nz-form-item>
      <nz-form-control>
        <button nz-button nzType="primary" [disabled]="!formGroup.valid" nzBlock>Crear cuenta</button>
      </nz-form-control>
    </nz-form-item>

    <ng-container *ngIf="error">
      <nz-alert
        nzShowIcon
        nzType="error"
        nzMessage="Error al iniciar sesión"
        [nzDescription]="errorDescriptionTemplate"
        nzCloseable
      ></nz-alert>
      <ng-template #errorDescriptionTemplate>
        <p>{{errorMessage}}</p>
      </ng-template>
    </ng-container>
  </form>
</div>
